import{a as j}from"./chunk-ZNFKCCNR.js";import{Aa as v,C as l,Fa as b,Ia as w,Ma as S,O as p,T as f,Va as y,ba as u,ea as n,f as s,fb as C,ga as c,jb as F,kb as I,ma as m,va as a,wa as g,xa as d,ya as h}from"./chunk-OEVTQUXT.js";var D=(r,e,k)=>({disabled:r,"btn-outline-secondary":e,"btn-secondary":k}),z=(()=>{let e=class e{constructor(t,o,i){this.profileService=t,this.router=o,this.userService=i,this.toggle=new m,this.isSubmitting=!1,this.destroyRef=p(f)}toggleFollowing(){this.isSubmitting=!0,this.userService.isAuthenticated.pipe(l(t=>t?this.profile.following?this.profileService.unfollow(this.profile.username):this.profileService.follow(this.profile.username):(this.router.navigate(["/login"]),s)),I(this.destroyRef)).subscribe({next:t=>{this.isSubmitting=!1,this.toggle.emit(t)},error:()=>this.isSubmitting=!1})}};e.\u0275fac=function(o){return new(o||e)(n(j),n(C),n(F))},e.\u0275cmp=c({type:e,selectors:[["app-follow-button"]],inputs:{profile:"profile"},outputs:{toggle:"toggle"},decls:3,vars:7,consts:[[1,"btn","btn-sm","action-btn",3,"click","ngClass"],[1,"ion-plus-round"]],template:function(o,i){o&1&&(g(0,"button",0),v("click",function(){return i.toggleFollowing()}),h(1,"i",1),b(2),d()),o&2&&(a("ngClass",S(3,D,i.isSubmitting,!i.profile.following,i.profile.following)),u(2),w(" \xA0 ",i.profile.following?"Unfollow":"Follow"," ",i.profile.username," "))},dependencies:[y],encapsulation:2});let r=e;return r})();export{z as a};
