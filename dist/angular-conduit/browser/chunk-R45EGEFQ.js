import{a as T}from"./chunk-EANCRLRI.js";import{Aa as k,C as S,Ca as m,Da as d,Fa as f,Ha as v,La as g,Ma as j,Na as E,O as y,Pa as F,T as b,Va as I,Xa as M,aa as D,ba as a,ea as l,f as h,fb as L,ga as p,gb as R,jb as _,kb as w,ma as C,va as s,wa as c,xa as o,ya as u}from"./chunk-OEVTQUXT.js";var P=["*"],A=i=>["/profile",i],x=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=p({type:e,selectors:[["app-article-meta"]],inputs:{article:"article"},ngContentSelectors:P,decls:10,vars:12,consts:[[1,"article-meta"],[3,"routerLink"],[3,"src"],[1,"info"],[1,"author",3,"routerLink"],[1,"date"]],template:function(r,t){r&1&&(m(),c(0,"div",0)(1,"a",1),u(2,"img",2),o(),c(3,"div",3)(4,"a",4),f(5),o(),c(6,"span",5),f(7),E(8,"date"),o()(),d(9),o()),r&2&&(a(),s("routerLink",g(8,A,t.article.author.username)),a(),s("src",t.article.author.image,D),a(2),s("routerLink",g(10,A,t.article.author.username)),a(),v(" ",t.article.author.username," "),a(2),v(" ",F(8,5,t.article.createdAt,"longDate")," "))},dependencies:[R,M],encapsulation:2,changeDetection:0});let i=e;return i})();var z=["*"],N=(i,e,U)=>({disabled:i,"btn-outline-primary":e,"btn-primary":U}),te=(()=>{let e=class e{constructor(n,r,t){this.articleService=n,this.router=r,this.userService=t,this.destroyRef=y(b),this.isSubmitting=!1,this.toggle=new C}toggleFavorite(){this.isSubmitting=!0,this.userService.isAuthenticated.pipe(S(n=>n?this.article.favorited?this.articleService.unfavorite(this.article.slug):this.articleService.favorite(this.article.slug):(this.router.navigate(["/register"]),h)),w(this.destroyRef)).subscribe({next:()=>{this.isSubmitting=!1,this.toggle.emit(!this.article.favorited)},error:()=>this.isSubmitting=!1})}};e.\u0275fac=function(r){return new(r||e)(l(T),l(L),l(_))},e.\u0275cmp=p({type:e,selectors:[["app-favorite-button"]],inputs:{article:"article"},outputs:{toggle:"toggle"},ngContentSelectors:z,decls:3,vars:5,consts:[[1,"btn","btn-sm",3,"click","ngClass"],[1,"ion-heart"]],template:function(r,t){r&1&&(m(),c(0,"button",0),k("click",function(){return t.toggleFavorite()}),u(1,"i",1),d(2),o()),r&2&&s("ngClass",j(1,N,t.isSubmitting,!t.article.favorited,t.article.favorited))},dependencies:[I],encapsulation:2});let i=e;return i})();export{x as a,te as b};
